!function(){"use strict";var e,t={49323:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LoadAnim=void 0;const a=r(i(58687)),o=i(23360);class c extends a.Container{bg;arc;arcContainer;animInterval;container;bgContainer;bgRotation=0;constructor(e,t){super(),this.pivot.set(.5,.5),this.container=new a.Container,this.container.alpha=0,this.rotation=2.5*Math.PI,this.bgContainer=new a.Container,this.bg=new a.Graphics,this.bg.roundRect(-50,-50,100,100,25),this.bg.fill(e),this.arcContainer=new a.Container,this.arc=new a.Graphics,this.arc.arc(0,0,27,Math.PI+.26,2.92*Math.PI),this.arc.stroke({width:8,color:t,cap:"round"}),this.arc.scale.set(-1,1),this.container.scale.set(.5,.5),this.bgContainer.addChild(this.bg),this.arcContainer.addChild(this.arc),this.bgContainer.addChild(this.arcContainer),this.container.addChild(this.bgContainer),this.addChild(this.container),o.ease.add(this.container,{alpha:1,scale:1},{duration:400,ease:"easeInOutQuad"}),this.doAnims(),this.animInterval=setInterval((()=>{this.doAnims()}),800)}doAnims(){this.bgRotation+=90,o.ease.add(this.bgContainer,{angle:this.bgRotation},{duration:600,ease:"easeInOutQuad"})}getWidth(){return 100*this.scale.x}getHeight(){return 100*this.scale.y}draw(e){this.arcContainer.angle+=3*e.deltaTime}destroy(e){o.ease.add(this.container,{alpha:0,scale:.5},{duration:400,ease:"easeInOutQuad"}),setTimeout((()=>{clearInterval(this.animInterval),super.destroy(e)}),400)}}t.LoadAnim=c},25373:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.InteractScreen=void 0;const a=i(84283),o=r(i(58687)),c=i(20825),l=i(94433),h=i(23360);class d extends a.Screen{text;introTrack;clickSound;clickArea=new o.Graphics;constructor(e,t){super(),this.introTrack=e,this.clickSound=t,this.text=new o.Text({text:"Click anywhere to play!",style:{fontFamily:"TorusRegular",fontSize:36,fill:"white"}})}start(){this.text.anchor.set(.5,.5),this.text.scale.set(.5,.5),this.text.alpha=0,this.text.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.addChild(this.text),this.clickArea.rect(0,0,1,1),this.clickArea.fill("rgba(0,0,0,0)"),this.clickArea.width=this.getScreenWidth(),this.clickArea.height=this.getScreenHeight(),this.clickArea.position.set(0,0),this.addChild(this.clickArea),this.clickArea.eventMode="static",this.clickArea.cursor="pointer";const e=()=>{this.clickArea.eventMode="none";let e=URL.createObjectURL(this.clickSound);new Audio(e).play(),c.Main.switchScreen(new l.IntroScreen(this.introTrack))};this.clickArea.onclick=()=>{e()},this.clickArea.ontap=()=>{e()},h.ease.add(this.text,{alpha:1,scale:1},{duration:400,ease:"easeOutQuad"})}onClose(){return new Promise((e=>{h.ease.add(this.text,{alpha:0,scale:.5},{duration:200,ease:"easeInOutQuad"}),setTimeout((()=>{e(this)}),200)}))}draw(e){}onResize(){this.text.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.clickArea.width=this.getScreenWidth(),this.clickArea.height=this.getScreenHeight(),this.clickArea.position.set(0,0)}}t.InteractScreen=d},88662:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.GlitchingTriangles=void 0;const a=r(i(58687)),o=i(23360);class c extends a.Container{constructor(e){super();let t=new a.Graphics,i=n(.2,1.2);function n(e,t){return Math.random()*(t-e)+e}t.moveTo(0,0),t.lineTo(-50*i,100*i),t.lineTo(50*i,100*i),t.lineTo(0,0),Math.random()<.5?t.fill("white"):t.stroke({color:"white",width:1});let s=n(e.x1,e.x2),r=n(e.y1,e.y2);t.position.set(s,r),o.ease.add(t,{alpha:0},{duration:200,ease:"linear"}),setTimeout((()=>{this.destroy()}),200),this.addChild(t)}}t.GlitchingTriangles=c},94433:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.IntroScreen=void 0;const a=i(84283),o=i(53931),c=i(20825),l=r(i(58687)),h=i(88662),d=i(23360),u=i(58940);class g extends a.Screen{introTrackUrl;doTextSpacingAnim=!1;triangles=new l.Container;ruleSetContainer=new l.Container;flash=new l.Graphics;flashed=!1;welcomeText=new l.Text({text:"",style:{fontFamily:"TorusThin",fontSize:42,fill:"white",letterSpacing:5}});constructor(e){super(),this.introTrackUrl=URL.createObjectURL(e)}start(){this.welcomeText.anchor.set(.5,.5),this.welcomeText.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),setTimeout((async()=>{const{entries:e}=await(0,o.unzip)(this.introTrackUrl);for(const[t,i]of Object.entries(e))"audio.mp3"==t&&i.blob().then((e=>{let t=URL.createObjectURL(e);c.Main.currentPlayingAudio=new Audio(t),c.Main.currentPlayingAudio.play().then((()=>{this.afterAudioPlay()}))}))}),500)}afterAudioPlay(){let e;this.addChild(this.welcomeText),setTimeout((()=>{this.welcomeText.text="wel",this.onResize()}),200),setTimeout((()=>{this.welcomeText.text="welcome",this.onResize()}),400),setTimeout((()=>{this.welcomeText.text="welcome to",this.onResize()}),700),this.triangles.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.addChild(this.triangles),setTimeout((()=>{this.welcomeText.text="welcome to kosu!",this.doTextSpacingAnim=!0,e=setInterval((()=>{let e=new h.GlitchingTriangles({x1:-this.welcomeText.width/2-100,x2:this.welcomeText.width/2+100,y1:-this.welcomeText.height/2-150,y2:this.welcomeText.height/2+100});this.triangles.addChild(e)}),30),this.onResize()}),900);let t=l.Sprite.from("icon_ruleset_std"),i=l.Sprite.from("icon_ruleset_taiko"),n=l.Sprite.from("icon_ruleset_ctb"),s=l.Sprite.from("icon_ruleset_mania");setTimeout((()=>{this.doTextSpacingAnim=!1,this.onResize(),clearInterval(e),this.welcomeText.destroy(),this.triangles.destroy(),this.ruleSetContainer.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.addChild(this.ruleSetContainer),t.anchor.set(.5,.5),t.scale.set(.4),this.ruleSetContainer.addChild(t),i.anchor.set(.5,.5),i.scale.set(.4),this.ruleSetContainer.addChild(i),n.anchor.set(.5,.5),n.scale.set(.4),this.ruleSetContainer.addChild(n),s.anchor.set(.5,.5),s.scale.set(.4),this.ruleSetContainer.addChild(s);t.position.set(-375,0),i.position.set(-125,0),n.position.set(125,0),s.position.set(375,0),d.ease.add(this.ruleSetContainer,{scale:.8},{duration:1e3,ease:"linear"})}),1450),setTimeout((()=>{t.position.set(-240,0),i.position.set(-75,0),n.position.set(75,0),s.position.set(240,0),t.scale.set(1),i.scale.set(1),n.scale.set(1),s.scale.set(1)}),1650),setTimeout((()=>{t.position.set(-350,0),i.position.set(-120,0),n.position.set(120,0),s.position.set(350,0),t.scale.set(2),i.scale.set(2),n.scale.set(2),s.scale.set(2),d.ease.add(this.ruleSetContainer,{scale:1.3},{duration:1e3,ease:"linear"})}),1850),setTimeout((()=>{this.ruleSetContainer.visible=!1}),2080),setTimeout((()=>{this.flash.rect(0,0,1,1),this.flash.fill("white"),this.flash.position.set(0,0),this.flash.width=this.getScreenWidth(),this.flash.height=this.getScreenHeight(),this.addChild(this.flash),this.flashed=!0,d.ease.add(this.flash,{alpha:0},{duration:1e3,ease:"easeOutQuad"}),c.Main.switchScreen(new u.MainMenu)}),3e3)}draw(e){this.doTextSpacingAnim&&(this.welcomeText.style.letterSpacing+=.15*e.deltaTime,this.onResize())}onClose(){return new Promise((e=>{setTimeout((()=>{e(this)}),1e3)}))}onResize(){this.welcomeText.destroyed||this.welcomeText.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.triangles.destroyed||this.triangles.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),this.ruleSetContainer.destroyed||this.ruleSetContainer.position.set(this.getScreenWidth()/2,this.getScreenHeight()/2),!this.flash.destroyed&&this.flashed&&(this.flash.position.set(0,0),this.flash.width=this.getScreenWidth(),this.flash.height=this.getScreenHeight())}}t.IntroScreen=g},76969:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.LoadScreen=void 0;const n=i(84283),s=i(49323),r=i(58293);class a extends n.Screen{loadAnim;start(){this.loadAnim=new s.LoadAnim("rgba(255,255,255,0.7)","black");let e=r.Settings.getRangeSetting("UI scaling").getValue();this.loadAnim.scale.set(.8*e,.8*e),this.loadAnim.position.set(this.getScreenWidth()-this.loadAnim.getWidth()-15,this.getScreenHeight()-this.loadAnim.getHeight()-15),this.addChild(this.loadAnim)}draw(e){this.loadAnim?.draw(e)}onClose(){return new Promise((e=>{null!=this.loadAnim&&this.loadAnim.destroy(),setTimeout((()=>{e(this)}),400)}))}onResize(){null!=this.loadAnim?.position&&this.loadAnim.position.set(this.getScreenWidth()-this.loadAnim.getWidth()-20,this.getScreenHeight()-this.loadAnim.getHeight()-20)}}t.LoadScreen=a},58940:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.MainMenu=void 0;const n=i(84283);class s extends n.Screen{start(){}draw(e){}onClose(){return Promise.resolve(this)}onResize(){}}t.MainMenu=s},84283:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=void 0;const a=r(i(58687));class o extends a.Container{constructor(){super()}getScreenWidth(){return window.innerWidth}getScreenHeight(){return window.innerHeight}}t.Screen=o},75341:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCategory=t.Setting=void 0;const n=i(58293);var s;t.Setting=class{constructor(e){n.Settings.register({setting:this,data:e})}},function(e){e.General="General",e.Skin="Skin",e.Input="Input",e.UserInterface="User Interface",e.Gameplay="Gameplay",e.Rulesets="Rulesets",e.Audio="Audio",e.Graphics="Graphics",e.Online="Online",e.Maintenance="Maintenance",e.Debug="Debug"}(s||(t.SettingsCategory=s={}))},74975:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DropdownSetting=void 0;const n=i(75341);class s extends n.Setting{value;getValue(){if(!this.value)throw new Error("Value is undefined!");return this.value}setValue(e){this.value=e}}t.DropdownSetting=s},78642:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.RangeSetting=void 0;const n=i(75341);class s extends n.Setting{value=0;getValue(){return this.value}setValue(e){this.value=e}}t.RangeSetting=s},58293:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=void 0;const n=i(64681),s=i(78642),r=i(44256),a=i(74975);t.Settings=class{static settingsList=[];constructor(){new r.Renderer,new n.UIScale}static register(e){this.settingsList.push(e)}static getRangeSetting(e){let t=!1;if(this.settingsList.forEach((i=>{if(i.data.name==e&&i.setting instanceof s.RangeSetting)return t=!0,i.setting})),!t)throw new Error("Invalid Setting Name!");return new n.UIScale}static getDropDownSetting(e){let t=!1;if(this.settingsList.forEach((i=>{if(i.data.name==e&&i.setting instanceof a.DropdownSetting)return t=!0,i.setting})),!t)throw new Error("Invalid Setting Name!");return new r.Renderer}static getList(){return this.settingsList}}},44256:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=void 0;const n=i(75341),s=i(74975);class r extends s.DropdownSetting{list=[];webglOption={displayName:"WebGL",value:"webgl"};webGpuOption={displayName:"WebGPU",value:"webgpu"};defaultValue=this.webglOption;constructor(){super({name:"Renderer",category:n.SettingsCategory.Graphics}),this.value=this.defaultValue}}t.Renderer=r},64681:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.UIScale=void 0;const n=i(78642),s=i(75341);class r extends n.RangeSetting{maxValue=.8;minValue=1.6;increment=.1;defaultValue=1;constructor(){super({name:"UI scaling",category:s.SettingsCategory.Graphics}),this.value=this.defaultValue}}t.UIScale=r},29820:function(e,t,i){i(11307);const n=i(58687),s=i(20825),r=i(58293),a=window.innerWidth,o=window.innerHeight,c=new n.Application;window.onload=async()=>{new r.Settings;let e=r.Settings.getDropDownSetting("Renderer").getValue().value;c.init({backgroundColor:"black",width:a,height:o,antialias:!0,preference:e}).then((()=>{new s.Main(c)}))}},20825:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Main=void 0;const a=i(76969),o=r(i(58687)),c=i(25373);class l{static app;static currentScreen;static allScreens=[];static currentPlayingAudio;constructor(e){l.app=e,document.body.appendChild(l.app.canvas),this.doResize(),window.addEventListener("resize",this.doResize),l.switchScreen(new a.LoadScreen),navigator.mediaSession.setActionHandler("play",(function(){})),navigator.mediaSession.setActionHandler("pause",(function(){})),navigator.mediaSession.setActionHandler("stop",(function(){})),navigator.mediaSession.setActionHandler("seekbackward",(function(){})),navigator.mediaSession.setActionHandler("seekforward",(function(){})),navigator.mediaSession.setActionHandler("previoustrack",(function(){})),navigator.mediaSession.setActionHandler("nexttrack",(function(){})),fetch("assets/osu-assets/osu.Game.Resources/Tracks/triangles.osz").then((e=>e.blob())).then((e=>{o.Assets.addBundle("fonts",[{alias:"TorusRegular",src:"assets/fonts/TorusRegular.otf"},{alias:"TorusLight",src:"assets/fonts/TorusLight.otf"},{alias:"TorusThin",src:"assets/fonts/TorusThin.otf"}]),o.Assets.addBundle("textures",[{alias:"icon_ruleset_std",src:"assets/icons/ruleset-standard.png"},{alias:"icon_ruleset_mania",src:"assets/icons/ruleset-mania.png"},{alias:"icon_ruleset_taiko",src:"assets/icons/ruleset-taiko.png"},{alias:"icon_ruleset_ctb",src:"assets/icons/ruleset-ctb.png"}]),o.Assets.loadBundle("fonts").then((()=>{o.Assets.loadBundle("textures").then((()=>{fetch("assets/osu-assets/osu.Game.Resources/Samples/UI/dialog-ok-select.wav").then((e=>e.blob())).then((t=>{l.switchScreen(new c.InteractScreen(e,t))}))}))}))}))}doResize(){l.app.renderer.resize(window.innerWidth,window.innerHeight),l.app.stage.scale.x=1,l.app.stage.scale.y=1,l.allScreens.forEach((e=>{e.onResize()}))}static switchScreen(e){l.app.stage.addChild(e),null!=this.currentScreen&&this.currentScreen.onClose().then((e=>{for(let t=0;t<this.allScreens.length;t++)this.allScreens[t]==e&&this.allScreens.splice(t,1);l.app.ticker.remove(e.draw),l.app.stage.removeChild(e),e.destroy()})),e.start(),this.allScreens.push(e),this.currentScreen=e,l.app.ticker.add(e.draw,e)}}t.Main=l},11307:function(e,t,i){i.r(t)}},i={};function n(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={id:e,loaded:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=t,e=[],n.O=function(t,i,s,r){if(!i){var a=1/0;for(h=0;h<e.length;h++){i=e[h][0],s=e[h][1],r=e[h][2];for(var o=!0,c=0;c<i.length;c++)(!1&r||a>=r)&&Object.keys(n.O).every((function(e){return n.O[e](i[c])}))?i.splice(c--,1):(o=!1,r<a&&(a=r));if(o){e.splice(h--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var h=e.length;h>0&&e[h-1][2]>r;h--)e[h]=e[h-1];e[h]=[i,s,r]},n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={179:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,r,a=i[0],o=i[1],c=i[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(c)var h=c(n)}for(t&&t(i);l<a.length;l++)r=a[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(h)},i=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var s=n.O(void 0,[507],(function(){return n(29820)}));s=n.O(s)}();